---
title: ""	
date:2021-10-05
---

## ê²Œì‹œíŒ ë§Œë“¤ê¸°

<br/>

	#### ì˜¤ë¼í´ í…Œì´ë¸” ë§Œë“¤ê¸°

<br/>

<br/>

```sql

 ëŒ“ê¸€í˜• ê²Œì‹œíŒ ì‘ì—…ì— í•„ìš”í•œ SQLë¬¸

  -- 1) ì‹œí€€ìŠ¤ ìƒì„±
	CREATE SEQUENCE bbs_t_seq
	increment by 1
	start with 1
	nomaxValue;

	CREATE SEQUENCE comment_t_seq
	increment by 1
	start with 1
	nomaxValue;

  -- 2) í…Œì´ë¸” ìƒì„±
	CREATE TABLE bbs_t(
		b_idx	NUMBER(6,0) CONSTRAINT bbs_t_pk PRIMARY KEY, 
		subject	VARCHAR2(50), 
		writer	VARCHAR2(20), 
		content CLOB,        
		file_name	VARCHAR2(50), 
		ori_name	VARCHAR2(50), 
		pwd	VARCHAR2(20), 
		write_date	DATE,
		ip	VARCHAR2(30),
		hit	NUMBER(4), 
		status	NUMBER(1) 
	);

	CREATE TABLE comment_t(
		c_idx NUMBER(6) CONSTRAINT comment_t_pk PRIMARY KEY, 
		writer	VARCHAR2(20), 
		content	CLOB,
		pwd	VARCHAR2(20),
		write_date	DATE,
		ip	VARCHAR2(30),
		b_idx	NUMBER(6,0), 
		CONSTRAINT comm_t_fk FOREIGN KEY (b_idx) 
			REFERENCES bbs_t(b_idx) 
	);

  -- ê°€ì§œ ë°ì´í„°
	INSERT INTO bbs_t(b_idx, subject, writer,
		pwd, write_date, ip, hit, status)
	VALUES(bbs_t_seq.NEXTVAL, 'í…ŒìŠ¤íŠ¸','ë§ˆë£¨ì¹˜','1111', sysdate,
		'192.168.0.58', 0, 0);

	



```

<br/>

<br/>

ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ë¬¸ì¥ì€ **comment_t** í…Œì´ë¸”ì— <br/>

**b_idx** ì´ë‹¤. <br/> **bbs_t** í…Œì´ë¸”ì„ ì°¸ì¡°í•˜ê²Œ ë§Œë“¤ì–´ì„œ ì‰½ê²Œ ì½”ë§¨íŠ¸ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•œë‹¤.

<br/>

## VOê°ì²´ ìƒì„±

***

<br/>

#### CommVO.java

<br/>

```java
package mybatis.vo;

public class CommVO {
	private String
				c_idx , 
				writer ,
				content	 ,
				write_date ,
				ip ,
				b_idx;

	public String getC_idx() {
		return c_idx;
	}

	public String getWriter() {
		return writer;
	}

	public String getContent() {
		return content;
	}

	public String getWrite_date() {
		return write_date;
	}

	public String getIp() {
		return ip;
	}

	public String getB_idx() {
		return b_idx;
	}

	public void setC_idx(String c_idx) {
		this.c_idx = c_idx;
	}

	public void setWriter(String writer) {
		this.writer = writer;
	}

	public void setContent(String content) {
		this.content = content;
	}

	public void setWrite_date(String write_date) {
		this.write_date = write_date;
	}

	public void setIp(String ip) {
		this.ip = ip;
	}

	public void setB_idx(String b_idx) {
		this.b_idx = b_idx;
	}
	
}

```

<br/>

#### BbsVO.java

<br/>

```java
package mybatis.vo;

import java.util.List;

public class BbsVO {
	private String 
				b_idx ,
				subject ,
				writer ,
				content ,
				file_name ,
				ori_name ,
				write_date	,
				ip	,
				hit	,
				status ;
	private List<CommVO> c_list; //í•´ë‹¹ ê¸€ì˜ ëŒ“ê¸€ë“¤ì´ ì €ì¥ë˜ëŠ” ê³³ // ë‚˜ì¤‘ì— resultMapìœ¼ë¡œ ë“¤ì–´ì˜¤ê²Œ í•´ì•¼í•œë‹¤.
	
	public String getB_idx() {
		return b_idx;
	}
	public String getSubject() {
		return subject;
	}
	public String getWriter() {
		return writer;
	}
	public String getContent() {
		return content;
	}
	public String getFile_name() {
		return file_name;
	}
	public String getOri_name() {
		return ori_name;
	}
	public String getWrite_date() {
		return write_date;
	}
	public String getIp() {
		return ip;
	}
	public String getHit() {
		return hit;
	}
	public String getStatus() {
		return status;
	}
	public List<CommVO> getC_list() {
		return c_list;
	}
	public void setB_idx(String b_idx) {
		this.b_idx = b_idx;
	}
	public void setSubject(String subject) {
		this.subject = subject;
	}
	public void setWriter(String writer) {
		this.writer = writer;
	}
	public void setContent(String content) {
		this.content = content;
	}
	public void setFile_name(String file_name) {
		this.file_name = file_name;
	}
	public void setOri_name(String ori_name) {
		this.ori_name = ori_name;
	}
	public void setWrite_date(String write_date) {
		this.write_date = write_date;
	}
	public void setIp(String ip) {
		this.ip = ip;
	}
	public void setHit(String hit) {
		this.hit = hit;
	}
	public void setStatus(String status) {
		this.status = status;
	}
	public void setC_list(List<CommVO> c_list) {
		this.c_list = c_list;
	}
	
}

```

<br/>

## mapperìƒì„±

***

<br/>

ì›ê¸€ ì €ì¥, ëŒ“ê¸€ ì €ì¥, ìˆ˜ì •í•˜ëŠ” ë“± ì—¬ëŸ¬ê°€ì§€ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•  ë§µí¼ë¥¼ ë§Œë“¤ì–´ì•¼í•œë‹¤.<br/>

ì—¬ê¸°ì„œ **í˜ì´ì§• ê¸°ë²•**ë„ ìˆ˜í–‰í•´ì•¼í•œë‹¤. í•˜ì§€ë§Œ ì•„ì§ ë°°ìš°ì§€ ì•Šì€ì˜ì—­ì´ê¸°ì— ê²Œì‹œíŒì„ ì™„ì„±í•˜ê³  ì²œì²œíˆ ì§„í–‰í•´ë³´ë„ë¡ í•˜ê² ë‹¤.

<br/>

<br/>

#### ì›ê¸€ë“¤ì„ ê°€ì ¸ì˜¤ëŠ” ê¸°ëŠ¥

```xml
<select id="bbsList" resultMap="map1">
		SELECT * FROM bbs_t
		WHERE status = 0 <!-- ê¸€ì˜ ìƒíƒœ ! ìƒíƒœê°€ 1ì´ë©´ ì‚­ì œëœê²ƒì´ë¯€ë¡œ statusê°€ 0ì¸ ì¹œêµ¬ë“¤ë§Œ ë³´ì—¬ì¤˜ì•¼ í•œë‹¤. -->
		ORDER BY b_idx DESC <!-- ê°€ì¥ ìµœê·¼ì˜ ê¸€ì´ ë§¨ ìœ„ì— ì˜¬ë¼ì˜¤ê²Œ -->
	</select>
```

ì´ ë•Œ ì›ê¸€ë“¤ì„ ê°€ì ¸ì˜¤ë©´ ì „ì²´ê¸€ë“¤ì„ ê°€ì ¸ì˜¤ê²Œ ë˜ëŠ”ë° ì´ ë•Œ ê¸€ì´ ë§ì•„ì§€ë©´ ì „ì²´ ë‹¤ ê°€ì ¸ì˜¤ê¸° í˜ë“¤ì–´ ì§„ë‹¤. ì´ë¶€ë¶„ì€ ìˆ˜ì—…ì„ í•˜ë©´ì„œ ìˆ˜ì •í•´ì•¼ê² ë‹¤

<br/>

<br/>

#### í•´ë‹¹ ì›ê¸€(b_idx)ì— ë§ëŠ” ëŒ“ê¸€ë“¤ì„ ê°€ì ¸ì˜¤ëŠ” ê¸°ëŠ¥

<br/>

```xml
<select id="commList" parameterType="String" resultType="mybatis.vo.CommVO">
		SELECT * FROM comment_t
		WHERE b_idx = #{b_idx}
	</select>
```

<br/>

<br/>

#### BbsVOê°ì²´ë¥¼ ì°¸ì¡°í•˜ëŠ” resultMap ìƒì„±

<br/>

```xml
<resultMap type="mybatis.vo.BbsVO" id="map1">
		<id property="b_idx" column="b_idx"/>
		<collection property="c_list" ofType="mybatis.vo.CommVO"
			select="commList" column="b_idx"/>
	</resultMap>
```

<br/>

<br/>

#### DBì™€ ì—°ê²°í•˜ê¸° ìœ„í•œ *config* ì™€ *FactoryService* ë¥¼ ì„¤ì •í•˜ê¸°

<br/>

**config.xml**

```xml
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE configuration
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-config.dtd">
<configuration>
  <environments default="">
    <environment id="">
      <transactionManager type="JDBC"/>
      <dataSource type="JNDI">
        <property name="data_source" value="java:comp/env/jdbc/oracle"/>
      </dataSource>
    </environment>
  </environments>
  <mappers>
    <mapper resource="mybatis/mapper/bbs.xml"/>
  </mappers>
</configuration>
```

<br/>

<br/>

**FactoryService.hava**

```java
public class FactoryService {
	private static SqlSessionFactory factory;
	
	static {
		try {
			Reader r = Resources.getResourceAsReader("mybatis/config/config.xml");
			factory = new SqlSessionFactoryBuilder().build(r);
			r.close();
		} catch (Exception e) {
			e.printStackTrace();
		}
	}

	public static SqlSessionFactory getFactory() {
		return factory;
	}
}


```

<br/>

<br/>



ì´ë ‡ê²Œ ì„¤ì •ì„ í•˜ê³  ë‚˜ì„œ í•„ìš”í•œ libíŒŒì¼ë“¤ì„ ë„£ì.

<br/>

![image-20211005144326569](C:\Users\class02\AppData\Roaming\Typora\typora-user-images\image-20211005144326569.png)



<br/>

<br/>

#### í†°ì¼“ì„œë²„ êµ¬ë™ì‹œ ì£¼ì˜í•  ì 

ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ê±´ ojdbc6.jar ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ë° í˜„ì¬ libí´ë”ì—ëŠ” ë„£ì§€ ì•ŠëŠ”ë‹¤.<br/>

í†°ì¼“ì´ êµ¬ë™ ë  ë–„ ë°”ë¡œ ì´í•´í•˜ê³  êµ¬ë™í•  ìˆ˜ ìˆëŠ” í†°ìº£í´ë”ì•ˆì— libí´ë”ì— ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°€ì ¸ë‹¤ ë†“ì•„ì•¼ ì„œë²„ êµ¬ë™ì‹œ ì˜¤ë¥˜ê°€ ë‚˜ì§€ì•Šê³  ì„±ê³µì ìœ¼ë¡œ êµ¬ë™í•  ìˆ˜ ìˆë‹¤.



<br/>





### BbsDAO

<br/>

ëª©ë¡ì„ ë³´ì—¬ì£¼ëŠ” ë©”ì„œë“œë¥¼ ìƒì„±í•´ë³´ì

```java
public class BbsDAO {
	
	//ëª©ë¡
	public static BbsVO[] getList() {
		BbsVO[] ar =null;
		
		SqlSession ss = FactoryService.getFactory().openSession();
		List<BbsVO> list = ss.selectList("bbs.bbsList");
		if(list != null && !list.isEmpty() && list.size() > 0) {
			ar = new BbsVO[list.size()];
			list.toArray(ar);
			
		}
		ss.close();
		return ar;
	}
}
```

<br/>

<br/>

ìœ íš¨ì„± ê²€ì‚¬ë¥¼ í•  ë•ŒëŠ” ì–´ë–»ê²Œ í•  ê²ƒì¸ì§€ ë³´ì—¬ì£¼ê¸° ìœ„í•´ 3ê°€ì§€ ë°©ë²•ì„ ì ì–´ë†¨ë‹¤.



***

### List.jsp

<br/>

ì´ì œ DBì—°ê²°ê³¼ ê¸°ëŠ¥ì„ ì •ì˜ë¥¼ í–ˆìœ¼ë‹ˆ <br/>

í´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­ì„ í•  ìˆ˜ ìˆëŠ” viewë‹¨ì„ ë§Œë“¤ì–´ ë³´ì.<br/>

```jsp
<%@page import="mybatis.dao.BbsDAO"%>
<%@page import="mybatis.vo.BbsVO"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
   
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
	#bbs table {
	    width:580px;
	    margin-left:10px;
	    border:1px solid black;
	    border-collapse:collapse;
	    font-size:14px;
	    
	}
	
	#bbs table caption {
	    font-size:20px;
	    font-weight:bold;
	    margin-bottom:10px;
	}
	
	#bbs table th,#bbs table td {
	    text-align:center;
	    border:1px solid black;
	    padding:4px 10px;
	}
	
	.no {width:15%}
	.subject {width:30%}
	.writer {width:20%}
	.reg {width:20%}
	.hit {width:15%}
	.title{background:lightsteelblue}
	
	.odd {background:silver}
	
	/* paging */
	
	table tfoot ol.paging {
	    list-style:none;
	}
	
	table tfoot ol.paging li {
	    float:left;
	    margin-right:8px;
	}
	
	table tfoot ol.paging li a {
	    display:block;
	    padding:3px 7px;
	    border:1px solid #00B3DC;
	    color:#2f313e;
	    font-weight:bold;
	}
	
	table tfoot ol.paging li a:hover {
	    background:#00B3DC;
	    color:white;
	    font-weight:bold;
	}
	
	.disable {
	    padding:3px 7px;
	    border:1px solid silver;
	    color:silver;
	}
	
	.now {
	   padding:3px 7px;
	    border:1px solid #ff4aa5;
	    background:#ff4aa5;
	    color:white;
	    font-weight:bold;
	}
		
</style>
</head>
<body>
	<div id="bbs">
		<table summary="ê²Œì‹œíŒ ëª©ë¡">
			<caption>ê²Œì‹œíŒ ëª©ë¡</caption>
			<thead>
				<tr class="title">
					<th class="no">ë²ˆí˜¸</th>
					<th class="subject">ì œëª©</th>
					<th class="writer">ê¸€ì“´ì´</th>
					<th class="reg">ë‚ ì§œ</th>
					<th class="hit">ì¡°íšŒìˆ˜</th>
				</tr>
			</thead>
			
			<tfoot>
                      <tr>
                          <td colspan="4">
                              <ol class="paging">
                                  
               

<li><a href="#">ì´ì „ìœ¼ë¡œ</a></li>

	<li class="now">1</li>
         
	<li><a href="#">2</a></li>


 
		<li><a href="#">ë‹¤ìŒìœ¼ë¡œ</a></li>
	
                              </ol>
                          </td>
						  <td>
							<input type="button" value="ê¸€ì“°ê¸°"
			onclick="javascript:location.href='write.jsp'"/>
						  </td>
                      </tr>
                  </tfoot>
			<tbody>
			
<%
				/* ê²Œì‹œë¬¼ ëª©ë¡ê°€ì ¸ì˜¤ê¸° */
				BbsVO[] ar = BbsDAO.getList();
			if(ar != null){
				for(int i=0; i<ar.length; i++){
					BbsVO vo = ar[i];
%>
				<tr>
					<td><%=vo.getB_idx() %></td>
					<td style="text-align: left">
						<a href="#">
						<%=vo.getSubject() %>
					</a></td>
					<td><%=vo.getWriter() %></td>
					<td>
					<%
						if(vo.getWrite_date() != null){
					%>
						<%=vo.getWrite_date().substring(0,10) %>					
					<%
						}
					%>
					</td>
					<td><%=vo.getHit() %></td>
				</tr>
<%
				}//forë¬¸ì˜ ë
			}//ifë¬¸ì˜ ë
%>
			</tbody>
		</table>
		
	</div>
</body>
</html>
```

<br/>

<br/>

ì´ëŸ° ëª¨ìŠµì´ ë‚˜ì˜¨ë‹¤.

![image-20211005155154422](C:\Users\class02\AppData\Roaming\Typora\typora-user-images\image-20211005155154422.png)



### í˜ì´ì§•ê¸°ë²•

***

<br/>

í˜„ì¬ ê¸€ ê²Œì‹œëª©ë¡ì— ê²Œì‹œë¬¼ dbë¥¼ ê°€ì ¸ì˜¤ê²Œë˜ë©´ ëª¨ë“  ê²Œì‹œë¬¼ì´ ì „ë¶€ë³´ì´ê²Œëœë‹¤.<br/>

<br/>

ê·¸ëŸ°ë°.. í˜„ì¬ dbì˜ ê²Œì‹œë¬¼ì´ ì˜¤ì²œê°œë¼ë©´ ì˜¤ì²œê°œì˜ ê²Œì‹œë¬¼ì´ ì „ë¶€ ë‹¤~

ë³´ì´ê²Œ ëœë‹¤.<br/>

<br/>

ê·¸ë ‡ê²Œ ë³´ì´ëŠ”ê²Œ ì•„ë‹Œ í˜„ì¬ í˜ì´ì§€ì˜ ë³´ì—¬ì¤„ ê²Œì‹œë¬¼ì˜ ìˆ˜ì™€ í˜ì´ì§€ ë¸”ë¡ì— ìˆ˜ë¥¼ ì§€ì •í•˜ëŠ” ë“± ì—¬ëŸ¬ê°€ì§€ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ëŠ” ì‘ì—…ì„ í•´ë³´ì.

<br/><br/>

**í˜ì´ì§• ê¸°ë²•ì— ì‚¬ìš© ë  ë³€ìˆ˜ë“¤**

<br/>

```
    - nowPage : í˜„ì¬í˜ì´ì§€ ê°’
    - numPerPage : í•œ í˜ì´ì§€ë‹¹ ë³´ì—¬ì§ˆ ê²Œì‹œë¬¼ ìˆ˜
    - totalRecord : ì´ ê²Œì‹œë¬¼ ìˆ˜
    - pagePerBlock : í•œ ë¸”ëŸ­ë‹¹ ë³´ì—¬ì§ˆ í˜ì´ì§€ ìˆ˜
    - totalPage : ì´ í˜ì´ì§€ ìˆ˜
    - cPage : í˜„ì¬ í˜ì´ì§€ ê°’ì„ ë°›ëŠ” íŒŒë¼ë¯¸í„° 
    - begin : í•œ í˜ì´ì§€ì—ì„œ ë³´ì—¬ì§ˆ ì‹œì‘ ê²Œì‹œë¬¼ì˜ í–‰ë²ˆí˜¸
    - end : í•œ í˜ì´ì§€ì—ì„œ ë³´ì—¬ì§ˆ ë§ˆì§€ë§‰ ê²Œì‹œë¬¼ì˜ í–‰ë²ˆí˜¸
    - startPage : ë³´ì—¬ì§ˆ í˜ì´ì§€ ë¸”ëŸ­ì—ì„œ ì‹œì‘í˜ì´ì§€ ê°’
    - endPage : ë³´ì—¬ì§ˆ í˜ì´ì§€ ë¸”ëŸ­ì—ì„œ ë§ˆì§€ë§‰ í˜ì´ì§€ ê°’
```

<br/>

ì´ë ‡ê²Œ ê¸°ëŠ¥ì„ ì •í•´ë†¨ìœ¼ë©´ **list.jsp**ì—ì„œ ìŠ¤íŠ¸ë¦½íŠ¸ë¦¿(<%%>)ì„ ì—´ì–´ ì •ì˜ë¥¼ í•´ë³´ì.

<br/>

```jsp
<%
             	int nowPage = 1; //í˜„ì¬ í˜ì´ì§€ ê°’ ==cPage;
             	int numPerPage = 5; // í•œ í˜ì´ì§€ë‹¹ ë³´ì—¬ì§ˆ ê²Œì‹œë¬¼ì˜ ìˆ˜
             	
             	//í˜ì´ì§•ì„ ìœ„í•œ ë³€ìˆ˜
             	int totalRecord = BbsDAO.getTotalCount(); // ì´ ê²Œì‹œë¬¼ì˜ ìˆ˜
             	
             	int pagePerBlock = 5; //í˜ì´ì§€ ë¬¶ìŒ(í•œ ë¸”ëŸ­ë‹¹ ë³´ì—¬ì§ˆ í˜ì´ì§€ ìˆ˜)
             	
             	//ì „í˜ í˜ì´ì§€ ìˆ˜ êµ¬í•˜ê¸°.
             	int totalPage = 0;
             	
             	/* totalPage = totalRecord/numPerPage;
             		if(totalRecord%numPerPage != 0)
             			totalPage++;
             		
             		
             		Mathí´ë˜ìŠ¤ì— ceilí•¨ìˆ˜ëŠ” ê²°ê³¼ì¸ ì†Œìˆ˜ì ì„ ê°€ì¥ ê°€ê¹Œìš´ ë†’ì€ ì •ìˆ˜ë¡œ 
             		ì „í™˜í•˜ëŠ” ê¸°ëŠ¥ì„ ê°€ì ”ë‹¤.
             		 */
             		totalPage = (int)Math.ceil((double)totalRecord/numPerPage);
             		
             		//í˜„ì¬ í˜ì´ì§€ ê°’(cPage)ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ì•¼ í•œë‹¤.
             		
             		String cPage = request.getParameter("cPage");
             		//ë°›ì€ ê°’ì„ nowPageì— ë„£ëŠ”ë‹¤. ë§Œì•½!ì—†ë‹¤ë©´
             		//nowPageì˜ ê°’ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•œë‹¤.ìœ„ì— ë³€ìˆ˜ì— ë³´ë©´ 1ì´ë¼ê³  ì €ì¥ë˜ì–´ìˆë‹¤ì‰
             		if(cPage != null){
             			nowPage = Integer.parseInt(cPage);
             			
             			//ì´ëŸ´ ì¼ì€ ì—†ê² ì§€ë§Œ í˜„ì¬ í˜ì´ì§€ ê°’(nowPage)ì´ ì´ í˜ì´ì§€ ê°’(totalPage)ë¥¼ ë„˜ìœ¼ë©´ ì•ˆëœë‹¤.
             			if(nowPage > totalPage)
             				nowPage = totalPage;
             			//ã…‡ì—”ë“œí˜ì´ì§€ êµ¬í• ë–„ë„ ì´ëŸ°ì‹ìœ¼ë¡œ ã…ë©´ëœë‹¤.
             		}
             		
             		//ê° í˜ì´ì§€ì˜ ì‹œì‘ê³¼ ë(begin, end)ë¥¼ ì§€ì •í•˜ì!
             		// í˜„ì¬í˜ì´ì§€ê°€ 1: begin: 1, end:5 // 1ë¸”ë¡ ìŠ¤íƒ€íŠ¸í˜ì´ì§€ 1 ì—”ë“œí˜ì´ì§€ 5
             		// í˜„ì¬í˜ì´ì§€ê°€ 2: begin: 6, end:10 // 2ë¸”ë¡ ìŠ¤íƒ€íŠ¸í˜ì´ì§€ 6 ì—”ë“œí˜ì´ì§€ 10
             		// í˜„ì¬í˜ì´ì§€ê°€ 3: begin: 11, end:15
             		// í˜„ì¬í˜ì´ì§€ê°€ 4: begin: 16, end:20
             		int begin = (nowPage-1)*numPerPage + 1; //í•œ í˜ì´ì§€ì˜ ë³´ì—¬ì¤„ ì‹œì‘
             		int end = nowPage*numPerPage; 
             		
             		//í˜„ì œ í˜ì´ì§€ ê°’ì— ì˜í•´ ë¸”ëŸ­ì˜ ì‹œì‘í˜ì´ì§€ ê°’ êµ¬í•˜ì
             		int startPage = (int)((nowPage-1)/pagePerBlock)*pagePerBlock+1; 

             		//ë¸”ëŸ­ì˜ ë§ˆì§€ë§‰ í˜ì´ì§€ ê°’ êµ¬í•˜ê¸°
             		int endPage = startPage + pagePerBlock -1;
             		
             		//ì´ í˜ì´ì§€ ìˆ˜ê°€ endPageë³´ë‹¤ ì‘ë‹¤ë©´ ì´ 
             		//í˜ì´ì§€ ìˆ˜ë¥¼ ë„˜ì–´ í‘œí˜„ë˜ëŠ” í˜ì´ì§€ ê°’ë“¤ì´ ë§ì§€ ì•Šë‹¤.
             		//ì¦‰, endPageê°€ totalPageë³´ë‹¤ í¬ë©´ ì•ˆëœë‹¤.
             		if(endPage > totalPage)
             			endPage = totalPage;
             		
             		//ì´ì „ ë¸”ëŸ­ìœ¼ë¡œ ì´ë™í•˜ëŠ” ì—¬ë¶€ëŠ” startPageê°€ 1ë³´ë‹¤ í´ë•Œë‹¤.
             		//ë˜ëŠ” startPageê°€ pagePerBlockë³´ë‹¤ ì‘ë‹¤ë©´ ì´ì „ë¸”ë¡ìœ¼ë¡œ ì´ë™í•˜ëŠ” ê¸°ëŠ¥ì„
             		//ë¶€ì—¬í•´ì„œëŠ” ì•ˆëœë‹¤.
             		//startPageëŠ” 1,6,11,16, ... ìˆœì„ ê°€ì§„ë‹¤.
             		
             		if(startPage < pagePerBlock){
             			%>
						<li class="disable">&lt;</li>

             			<%
             		}else{
             %>     
               

<li><a href="list.jsp?cPage=<%=startPage-pagePerBlock%>">&lt;</a></li>
<%
             		}//ifë¬¸ì˜ ë
             		
             for(int i=startPage; i<=endPage; i++){
            	 
            	 if(nowPage == i){
%>
					<li class="now"><%=i%></li>
<%
            	 }else{
 %>  
					<li><a href="list.jsp?cPage=<%=i%>"><%=i%></a></li>          		 
<%
            	 }//ifì˜ ë
             }//forì˜ë
             
             //ë‹¤ìŒë¸”ëŸ­ìœ¼ë¡œ ì´ë™í•˜ëŠ” ê¸°ëŠ¥ì„ ë¶€ì—¬í•´ì•¼í• ì§€ ë§ì•„ì•¼í• ì§€?ë¥¼ 
            //endPageê°€ totalPageë³´ë‹¤ ì‘ì„ ê²½ìš°ì—ë§Œ ë¶€ì—¬í•´ì•¼í•œë‹¤.
            
            if(endPage < totalPage){
%>

		<li><a href="list.jsp?cPage=<%=startPage+pagePerBlock%>">&gt;</a></li>
<%
            }else{
%>
		<li class="disable">&gt;</li>

<%
            }//ifë¬¸ì˜ ë
%>
```



<br/>

ì´ë ‡ê²Œ êµ¬ì„±ì„ í•´ë³´ì•˜ë‹¤.

<br/>

ì‘ì—…ì„ í•˜ë©´ì„œ ì‚°ìˆ ì„ ì´ë ‡ê²Œ ë§ì´ í•´ë³¸ê±´ ì²˜ìŒì´ì—ˆë‹¤.ë¨¸ë¦¬ê°€ì–´ì§€ëŸ½ë‹¤.ğŸ˜‚

<br/>

<br/>

ì´ì œ ì‚¬ìš©ìê°€ ê¸€ì„ ì‘ì„±í•  **write.jsp**ë¥¼ ë§Œë“¤ì–´ ë³´ì



### write.jsp

***

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<style type="text/css">
	#bbs table {
	    width:580px;
	    margin-left:10px;
	    border:1px solid black;
	    border-collapse:collapse;
	    font-size:14px;
	    
	}
	
	#bbs table caption {
	    font-size:20px;
	    font-weight:bold;
	    margin-bottom:10px;
	}
	
	#bbs table th {
	    text-align:center;
	    border:1px solid black;
	    padding:4px 10px;
	}
	
	#bbs table td {
	    text-align:left;
	    border:1px solid black;
	    padding:4px 10px;
	}
	
	.no {width:15%}
	.subject {width:30%}
	.writer {width:20%}
	.reg {width:20%}
	.hit {width:15%}
	.title{background:lightsteelblue}
	
	.odd {background:silver}
	
		
</style>
<script type="text/javascript">
	function sendData(){
		for(var i=0 ; i<document.forms[0].elements.length ; i++){
			if(document.forms[0].elements[i].value == ""){
				alert(document.forms[0].elements[i].name+
						"ë¥¼ ì…ë ¥í•˜ì„¸ìš”");
				document.forms[0].elements[i].focus();
				return;//ìˆ˜í–‰ ì¤‘ë‹¨
			}
		}

//		document.forms[0].action = "test.jsp";
		document.forms[0].submit();
	}
</script>
</head>
<body>
	<div id="bbs">
	<form action="write_ok.jsp" method="post" 
	encType="multipart/form-data">
		<table summary="ê²Œì‹œíŒ ê¸€ì“°ê¸°">
			<caption>ê²Œì‹œíŒ ê¸€ì“°ê¸°</caption>
			<tbody>
				<tr>
					<th>ì œëª©:</th>
					<td><input type="text" name="title" size="45"/></td>
				</tr>
				<tr>
					<th>ì´ë¦„:</th>
					<td><input type="text" name="writer" size="12"/></td>
				</tr>
				<tr>
					<th>ë‚´ìš©:</th>
					<td><textarea name="content" cols="50" 
							rows="8"></textarea></td>
				</tr>
				<tr>
					<th>ì²¨ë¶€íŒŒì¼:</th>
					<td><input type="file" name="file"/></td>
				</tr>
<!-- 
				<tr>
					<th>ë¹„ë°€ë²ˆí˜¸:</th>
					<td><input type="password" name="pwd" size="12"/></td>
				</tr>

	 -->			<tr>
					<td colspan="2">
						<input type="button" value="ë³´ë‚´ê¸°"
						onclick="sendData()"/>
						<input type="button" value="ë‹¤ì‹œ"/>
						<input type="button" value="ëª©ë¡"/>
					</td>
				</tr>
			</tbody>
		</table>
	</form>
	</div>
</body>
</html>

```

