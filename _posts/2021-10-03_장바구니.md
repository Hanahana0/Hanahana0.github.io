---

title:  "ì‡¼í•‘ëª° ì¥ë°”êµ¬ë‹ˆ ë”°ë¼í•˜ê¸°""
excerpt: "ê° í´ë˜ìŠ¤ì˜ ì—­í• ê³¼ í˜ì´ì§€ë“¤ì˜ ê¸°ëŠ¥ì„ ë¶„ì„í•˜ì—¬ ì¥ë°”êµ¬ë‹ˆ ê¸°ëŠ¥ì„ ë”°ë¼í•´ë³´ì"

categories:
  - jsp
tags:
  - [java,jsp]

toc: true
toc_sticky: true
 
date: 2021-10-03
last_modified_at: 2021-10-03
---

# ì‡¼í•‘ëª° ì¥ë°”êµ¬ë‹ˆê¸°ëŠ¥êµ¬í˜„í•˜ê¸°

ì¥ë°”êµ¬ë‹ˆ ê¸°ëŠ¥ì„ êµ¬í˜„í•´ ë³´ê¸° ìœ„í•´ì„œ

<br/>

ì–´ë–¤ê²ƒë“¤ì´ í•„ìš”í•œì§€ ì•Œì•„ë³´ì.

<br/>

## ê¸°ëŠ¥êµ¬ì„±

![](C:\Users\ì´í•œì˜\Desktop\blog\2021-10-01_ì¥ë°”êµ¬ë‹ˆ\img1.JPG)

<br/>

1. config: 	ì‚¬ìš©í•  DBì™€ ì—°ê²°í•˜ê¸° ìœ„í•œ xmlíŒŒì¼ë¡œ ë“œë¼ì´ë²„ì˜ ì†ì„±ë“¤ê³¼ ì‚¬ìš©í•  ë§µí¼ì˜ ì£¼ì†Œë¥¼ ì •ì˜í•´ì¤˜ì•¼ í•œë‹¤.

   <br/>

   

   ```xml
   <?xml version="1.0" encoding="UTF-8" ?>
   <!DOCTYPE configuration
     PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
     "http://mybatis.org/dtd/mybatis-3-config.dtd">
   <configuration>
     <environments default="">
       <environment id="">
         <transactionManager type="JDBC"/>
         <dataSource type="POOLED">
           <property name="driver" value="oracle.jdbc.OracleDriver"/>
           <property name="url" value="jdbc:oracle:thin:@localhost:1521:xe"/>
           <property name="username" value="DBì•„ì´ë””"/>
           <property name="password" value="DBë¹„ë°€ë²ˆí˜¸"/>
         </dataSource>
       </environment>
     </environments>
     <mappers>
       <mapper resource="mybatis/mapper/shop.xml"/>
     </mappers>
   </configuration>
   ```

   <br/>

2. dao:  dbë¥¼ ì‚¬ìš©í•´ ë°ì´í„°ë¥¼ ì¡°íšŒ,ì¡°ì‘í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•´ë†“ì.

   <br/>

   ```java
   public class ShopDAO {
   
   	public static ProductVO[] getList(String category) {
   		ProductVO[] ar =null;
   		
   		SqlSession ss = FactoryService.getFactory().openSession();
   		List<ProductVO> list = ss.selectList("shop.list", category);
   		if(list != null && !list.isEmpty()) {
   		
   			ar = new ProductVO[list.size()];
   			
   			list.toArray(ar);
   		}
   		
   		ss.close();
   		return ar;
   	}
   	
   }
   
   ```

   <br/>

3. mapper:

   sqlë¬¸ì„ í™œìš©í•˜ê¸° ìœ„í•œ xmlíŒŒì¼ì„ ìƒì„±í•˜ì.

   ```xml
   <?xml version="1.0" encoding="UTF-8"?>
   <!DOCTYPE mapper
     PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
     "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
   <mapper namespace="shop">
   
     <select id="list" parameterType="String" resultType="mybatis.vo.ProductVO">
     	SELECT * FROM shop_t
     	WHERE category = #{no}
     </select>
     
   </mapper>
   ```

   

4. service:

   íŒ©í† ë¦¬í´ë˜ìŠ¤ë¥¼ í•˜ë‚˜ ë§Œë“¤ì–´ í•œê³³ì—ì„œ ì—°ê²°ê³¼ ìœ ì§€ë³´ìˆ˜ë¥¼ ê´€ë¦¬ í•  ìˆ˜ ìˆê²Œ í•˜ì. <br/>

   ì´ë ‡ê²Œ í´ë˜ìŠ¤ë¥¼ í•˜ë‚˜ ë§Œë“¤ì–´ì„œ ê´€ë¦¬ë¥¼ í•˜ë©´ <br/>

   ì—¬ê¸°ì €ê¸°ì„œ ê°ì²´ë¥¼ ìƒˆë¡œ ìƒì„±í•˜ì§€ ì•Šì•„ë„ ëœë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤. ì¦‰ **ë³€ê²½ì´ ì¼ì–´ë‚˜ëŠ” ë¶€ë¶„ì„ ìº¡ìŠí™”** í•˜ê² ë‹¤ëŠ” ë§ì´ ë˜ê² ë‹¤. <br/>

   ```java
   
   public class FactoryService {
   	private static SqlSessionFactory factory;
   	
   	static {
   		try {
   			Reader r = Resources.getResourceAsReader("mybatis/config/config.xml");
   			factory = new SqlSessionFactoryBuilder().build(r);
   			r.close();
   		} catch (Exception e) {
   			e.printStackTrace();
   		}
   	}
   	
   	public static SqlSessionFactory getFactory() {
   		return factory;
   	}
   }
   
   
   
   
   
   ```

   <br/>

   ì–´ë””ì„œë“  ë°”ë¡œ ë¶€ë¥¼ ìˆ˜ ìˆê²Œ  staticìœ¼ë¡œ ìƒì„±í•˜ì˜€ë‹¤.

   <br/>

   

5. vo:

   ì‚¬ìš©ìê°€ í™”ë©´ì—ì„œ ë°ì´í„°ë¥¼ ì…ë ¥í•˜ê±°ë‚˜ ì¡°íšŒë¥¼ ìš”ì²­í•˜ë©´<br/>

   ì¡°ê±´ì„ VOì— ë‹´ì•„ì„œ DAOì— ìš”ì²­í•˜ë©´ DAOëŠ” ì €ì¥ì†Œë¡œë¶€í„° ë°ì´í„°ë¥¼ ì…ë ¥í•˜ê±°ë‚˜ ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥ë“¤ì„ ìˆ˜í–‰í•œ í›„ ê·¸ ê²°ê³¼ë¥¼ ë¦¬í„´í•´ì£¼ê²Œ ë˜ëŠ” êµ¬ì¡°ë‹¤.

   <br/>

   ```
   package mybatis.vo;
   
   public class ProductVO {
   	private String 	num, //ê¸°ë³¸í‚¤
   					category, //ì¹´í…Œê³ ë¦¬
   					p_num, 	//ì œí’ˆë²ˆí˜¸
   					p_name,	//ì œí’ˆëª…
   					p_company,	//ì œì¡°íšŒì‚¬
   					p_image_s,	//ì‘ì€ ì´ë¯¸ì§€-ì¸ë„¤ì¼
   					p_image_l,	//í° ì´ë¯¸ì§€ -í‹°ì ¸ì´ë¯¸ì§€
   					p_content,	//ì œí’ˆì„¤ëª…
   					p_date;		//ë“±ë¡ì¼
   	
   	private int		p_price,	//ë‹¨ê°€
   					p_saleprice,//ì„¸ì¼ê°€ê²©
   					quant, 		//ìˆ˜ëŸ‰
   					totalPrice; //ì´ì•¡
   
   	public String getNum() {
   		return num;
   	}
   
   	public void setNum(String num) {
   		this.num = num;
   	}
   
   	public String getCategory() {
   		return category;
   	}
   
   	public void setCategory(String category) {
   		this.category = category;
   	}
   
   	public String getP_num() {
   		return p_num;
   	}
   
   	public void setP_num(String p_num) {
   		this.p_num = p_num;
   	}
   
   	public String getP_name() {
   		return p_name;
   	}
   
   	public void setP_name(String p_name) {
   		this.p_name = p_name;
   	}
   
   	public String getP_company() {
   		return p_company;
   	}
   
   	public void setP_company(String p_company) {
   		this.p_company = p_company;
   	}
   
   	public String getP_image_s() {
   		return p_image_s;
   	}
   
   	public void setP_image_s(String p_image_s) {
   		this.p_image_s = p_image_s;
   	}
   
   	public String getP_image_l() {
   		return p_image_l;
   	}
   
   	public void setP_image_l(String p_image_l) {
   		this.p_image_l = p_image_l;
   	}
   
   	public String getP_content() {
   		return p_content;
   	}
   
   	public void setP_content(String p_content) {
   		this.p_content = p_content;
   	}
   
   	public String getP_date() {
   		return p_date;
   	}
   
   	public void setP_date(String p_date) {
   		this.p_date = p_date;
   	}
   
   	public int getP_price() {
   		return p_price;
   	}
   
   	public void setP_price(int p_price) {
   		this.p_price = p_price;
   	}
   
   	public int getP_saleprice() {
   		return p_saleprice;
   	}
   
   	public void setP_saleprice(int p_saleprice) {
   		this.p_saleprice = p_saleprice;
   	}
   
   	public int getQuant() {
   		return quant;
   	}
   
   	public void setQuant(int quant) {
   		this.quant = quant;
   		setTotalPrice(quant*p_saleprice);
   		
   	}
   
   	public int getTotalPrice() {
   		return totalPrice;
   	}
   
   	public void setTotalPrice(int totalPrice) {
   		this.totalPrice = totalPrice;
   	}
   	
   	
   	
   	//í• ì¸ìœ¨
   	public String getPercent() {
   		float per = (p_price - p_saleprice)*100/p_price;
   		
   		int value = (int)per; //ì†Œìˆ˜ì  ì´í•˜ ì ˆì‚­
   		
   		return String.valueOf(value);
   	}
   	
   }			
   
   ```

   <br/>

6. shop.bean

   ë°ì´í„°ë¥¼ ê°€ê³µí•´ì„œ ì£¼ê³  ë°›ì„ ê°ì²´!

   1. ì¹´íŠ¸

   ```java
   public class Cart {
   /*
      ì¹´íŠ¸ì˜ ê¸°ëŠ¥ë¶„ì„
     	1) ì œí’ˆ(ProductVO)ì„ ë‹´ì„(ì €ì¥)ìˆ˜ ìˆëŠ” ê³µê°„ :List<ProductVO> -ê³µê°„ì„ ì¤€ë¹„
     	2) 1)ì— ì œí’ˆì„ ì €ì¥í•˜ëŠ” ê¸°ëŠ¥ -ê³µê°„ì— ì œí’ˆì„ ì €ì¥!
    	3) 1)ì—ì„œ ì œí’ˆì„ ê²€ìƒ‰í•˜ëŠ” ê¸°ëŠ¥
    	4) 1)ì—ì„œ ì œí’ˆ ì‚­ì œê¸°ëŠ¥
     	5) 3)ì—ì„œ ê²€ìƒ‰ëœ ì œí’ˆì˜ ìˆ˜ëŸ‰ì„ ë³€ê²½í•˜ëŠ” ê¸°ëŠ¥
     	6) 1)ì— ìˆëŠ” ëª¨ë“  ì œí’ˆë“¤ì„ ë°°ì—´ë¡œ ë°˜í™˜í•˜ëŠ” ê¸°ëŠ¥
      	7) ì´ì•¡ ê³„ì‚°
      
      	ìœ„ ë¶„ì„ì— ë”°ë¥¸ ì¹´íŠ¸ì˜ ì†ì„±(ë©¤ë²„ë³€ìˆ˜)ì •ì˜
      		-List<ProductVO>
      		-int totalPrice(); //jspì—ì„œ í•˜ë©´ ë ê²ƒê°™ë‹¤!
      
      	ì¹´íŠ¸ì˜ ê¸°ëŠ¥(ë©¤ë²„ë©”ì„œë“œ)
      		-searchProduct : ì œí’ˆê²€ìƒ‰ ê¸°ëŠ¥
      		-addProduct : ì œí’ˆì¶”ê°€ ê¸°ëŠ¥
      		-delProduct : ì œí’ˆì‚­ì œ ê¸°ëŠ¥
      		-changeCount : ì œí’ˆìˆ˜ëŸ‰ ë³€ê²½ê¸°ëŠ¥
      		-getList : ì¹´íŠ¸ì— ë‹´ì€ ëª¨ë“  ì œí’ˆì„ ë°°ì—´ë¡œ ë°˜í™˜í•˜ëŠ” ê¸°ëŠ¥(ì¥ë°”êµ¬ë‹ˆë¥¼ë³´ê¸°ìœ„í•´ì„œ)
    */
   	
   	private List<ProductVO> list;
   	public Cart() { //ìƒì„±ì
   		list = new ArrayList<ProductVO>();
   	}
   	public ProductVO searchProduct(String pnum) {
   	
   		Iterator<ProductVO> it = list.iterator();
   		
   		while(it.hasNext()) { 
   			ProductVO vo = it.next(); 
   if(vo.getP_num().equals(pnum)) 
   				return vo;
   			
   		}//whileë¬¸ì˜ ë
   		return null;
   	}
   	
   	public ProductVO[] getList() {
   		ProductVO[] ar = null;
   		if(!list.isEmpty()) {
   			ar = new ProductVO[list.size()];
   			list.toArray(ar);
   		}
   		return ar;
   	}
   
   	public void addProduct(ShopBean sb, String pnum) {
   		
   		ProductVO vo = searchProduct(pnum);
   		
   		if(vo != null) {
   			int q = vo.getQuant();
   			vo.setQuant(q+1);
   			return; 
   		}
   		sb.setP_num(pnum);
   		vo = sb.getProduct(); 
   		vo.setQuant(1);
   		
   		//ì¹´íŠ¸ì˜ ì €ì¥ì†Œlistì— ì €ì¥
   		list.add(vo);
   	}
   	
   	public boolean delProduct(String pnum) {
   		boolean value = false;
   		ProductVO vo = searchProduct(pnum);
   		if(vo != null) {
   			list.remove(vo); //ì‚­ì œ!!
   			value = true;
   			
   		}
   		
   		return value;
   	}
   
   	public void changeCount(String pnum, int q) {
   		ProductVO vo = searchProduct(pnum);
   		if(vo != null) {
   			vo.setQuant(q); 
   		}
   	}
   }
   
   ```

   2. ShopBean

      ```java
      public class ShopBean {
      	
      
      	private String category;
      	
      	private ProductVO[] p_list; 
      	
      	private String p_num;
      
      	public String getCategory() {
      		return category;
      	}
      
      	public void setCategory(String category) {
      		this.category = category;
      	}
      
      	public ProductVO[] getP_list() {
      		return p_list;
      	}
      
      	public void setP_list(ProductVO[] p_list) {
      		this.p_list = p_list;
      	}
      
      	public String getP_num() {
      		return p_num;
      	}
      
      	public void setP_num(String p_num) {
      		this.p_num = p_num;
      	}
      	
      	
      	public void searchProduct() {
      		
      		p_list = ShopDAO.getList(category);
      	}
      	
      	
      	public ProductVO getProduct() {
      		ProductVO vo = null;
      		//ì§„ì—´ëŒ€(p_list)ì—ì„œ ë©¤ë²„ë³€ìˆ˜ì¸ p_numìœ¼ë¡œ ì œí’ˆì„ ê²€ìƒ‰í•œë‹¤.
      		for(ProductVO pvo : p_list) {
      			if(pvo.getP_num().equals(p_num)) {
      				vo = pvo;
      				break; 
      			}
      		}
      		return vo;
      	}
      }
      
      ```

      

## í™”ë©´êµ¬ì„±

<br/>

ì´ ì‘ì—…ì€ êµìœ¡ìš©ì´ë‹¤ë³´ë‹ˆ ë””ìì¸ì€ ë”°ë¡œ ì‹ ê²½ì“°ì§€ë§ê³  ì§„í–‰í•˜ë„ë¡ í•˜ì ! ğŸ˜€ğŸ˜€

**index.jsp**

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
	<link href="css/style.css" rel="stylesheet">
</head>
<body>
	<jsp:include page="menu.jsp"/>
</body>
</html>
```

<br/>

**menu.jsp**



```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<body>
	  <hr width="600" border="1" noshade color="navy">
		  <div id="title" class="txt_c">      
		        <strong>INCREPAS SHOPPING CENTER</strong>      
		  </div>
		  <hr width="600" border="1" noshade color="navy">
		  <div id="header" class="txt_c">
		      <a href="product_list.jsp?category=com001">ì»´í“¨í„°</a> | 
		      <a href="product_list.jsp?category=ele002">ê°€ì „ ì œí’ˆ</a> | 
		      <a href="product_list.jsp?category=sp003">ìŠ¤í¬ì¸ </a>
		  </div>
	  <hr width="600" border="1" noshade color="navy">
</body>
```



<br/>

<br/>

![](C:\Users\ì´í•œì˜\Desktop\blog\2021-10-01_ì¥ë°”êµ¬ë‹ˆ\img3.JPG)

í™”ë©´ êµ¬ì„±ì€ ëŒ€ëµ ì´ëŸ° ëª¨ìŠµì´ë‹¤.

<br/>

ì´ì œ ì¹´í…Œê³ ë¦¬ì˜ ë©”ë‰´ë“¤ì„ ì„ íƒí•˜ë©´ ê·¸ ë©”ë‰´ê°€ ë³´ì´ê²Œ í™”ë©´êµ¬ì„±ì„ í•´ë³´ì.

<br/>

**Product_list.jsp**

```jsp
<%@page import="mybatis.vo.ProductVO"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link href="css/style.css" rel="stylesheet">
</head>
<body>
	<jsp:include page="menu.jsp"/>
	<%
		request.setCharacterEncoding("UTF8");
	%>
	<!-- ShopBean sb = new ShopBean(); -->
	<jsp:useBean id="sb" class="shop.bean.ShopBean" scope="session"/> 

	<jsp:setProperty property="category" name="sb"/>
	<%
		sb.searchProduct(); //ì‚¬ìš©ìê°€ ì„ íƒí•œ ì¹´í…Œê³ ë¦¬ë³„ ì œí’ˆë“¤ì´ ê²€ìƒ‰ëœë‹¤ !
						//(ShopBeanì•ˆì— p_list)
		ProductVO[] ar = sb.getP_list();
	%>
	<table align="center" width="600" border="1"
		style="border-collapse: collapse; font-size: 
		11px" bordercolor="navy" cellpadding="4" cellspacing="0">
			<colgroup>
				<col width="10%"/>
				<col width="10%"/>
				<col width="35%"/>
				<col width="20%"/>
				<col width="25%"/>
			</colgroup>
			<thead>
				<tr>
					<th>ì œí’ˆë²ˆí˜¸</th>
					<th>ì´ë¯¸ì§€</th>
					<th>ì œí’ˆëª…</th>
					<th>ì œí’ˆê°€ê²©</th>
					<th>ë¹„ê³ </th>
				</tr>
			</thead>
			<tbody>
				<%
					if(ar != null){
						for(ProductVO pvo : ar){
						%>
				<tr align="center">
					<td>
						<%=pvo.getP_num() %>
					</td>
					<td>
						<img src="images/<%=pvo.getP_image_s()%>" width="60px" height="50px"/>
					</td>
					<td>
						<a href="product_cintent.jsp?prod_num=<%=pvo.getP_num() %>">
							<%=pvo.getP_name() %>
						</a>
					</td>
					<td>
						í• ì¸ê°€ : <%=pvo.getP_saleprice()%>ì› <br/>
						<font color="red">(<%=pvo.getPercent() %>%)</font>
					</td>
					<td>
						ë‹¨ê°€ : <%=pvo.getP_price() %>ì›
					</td>
				</tr>
						<%
						}//forì˜ë
					}//ifì˜ë
				%>
			</tbody>
		</table>
</body>
</html>
```

<br/>

ì´ í˜ì´ì§€ì—ì„œ ì¤‘ìš”í•œ ë¶€ë¶„ì€ <br/>

```jsp
<jsp:useBean id="sb" class="shop.bean.ShopBean" scope="session"/> 
```

```jsp
<jsp:setProperty property="category" name="sb"/>
```

<br/>

ì´ ë‘ê°€ì§€ ë¶€ë¶„ì´ ì œì¼ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•œë‹¤.

<br/>

useBeanì„ ì‚¬ìš©í•˜ì—¬ ë„˜ì–´ì˜¤ëŠ” íŒŒë¼ë¯¸í„°ê°’ì„

<br/>

ShopBeanì— ìˆëŠ” categoryì— ì €ì¥í•˜ëŠ” ë™ì‘ì„ ìˆ˜í–‰í•œ ê²ƒì´ë‹¤.

<br/>

ì—¬ê¸°ê¹Œì§€ ì§„í–‰ì„ í•˜ë©´ ì¹´í…Œê³ ë¦¬ì— ìˆëŠ” ì œí’ˆì´ ë‚˜ì—´ì´ ëœë‹¤.

<br/>

ì—¬ê¸°ì„œ ì‚¬ìš©ìê°€ ê·¸ ì œí’ˆì„ í´ë¦­í•˜ëŠ” ìˆœê°„ ê·¸ ì œí’ˆì˜ ìƒì„¸ì •ë³´ê°€ í™”ë©´ì— ë³´ì—¬ì•¼ í•œë‹¤.

<br/>

ìƒì„¸í™”ë©´ í˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ë³´ì

<br/>

**Product_content.jsp**

```jsp
<%@page import="mybatis.vo.ProductVO"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<<link href="css/style.css" rel="stylesheet">
</head>
<body>
	<jsp:include page="menu.jsp"/>
	<%
			request.setCharacterEncoding("UTF8");
			%>
			<jsp:useBean id="sb" class="shop.bean.ShopBean" scope="session"/>
			<jsp:setProperty property="p_num" name="sb" param="prod_num"/>
			
			<%
			
			ProductVO pvo = sb.getProduct();
			%>
		<table align="center" width="600" border="1"
		style="border-collapse: collapse; font-size: 
		11px" bordercolor="navy" cellpadding="4" cellspacing="0">
		   	<colgroup>
		   		<col width="40%">
		   		<col width="60%">
		   	</colgroup>
			<tbody>
			
			
			    <tr>
			        <td>ì œí’ˆì¹´í…Œê³ ë¦¬</td>
			        <td><%=pvo.getCategory() %></td>
			    </tr>
			    <tr>
			        <td>ì œí’ˆë²ˆí˜¸</td>
			        <td><%=pvo.getNum() %></td>
			    </tr>
			    <tr>
			        <td>ì œí’ˆì´ë¦„</td>
			        <td><%=pvo.getP_name() %></td>
			    </tr>
			    <tr>
			        <td>ì œì¡°íšŒì‚¬</td>
			        <td><%=pvo.getP_company() %></td>
			    </tr>
			    <tr>
			        <td>ì›ê°€ :<%=pvo.getP_price() %>ì›</td>
			        <td>(í• ì¸ê°€ : <%=pvo.getP_saleprice() %> ì›)</td>
			    </tr>
			    <tr>
			        <td colspan="2"><%=pvo.getP_content() %></td>
			    </tr>
			    <tr>
			        <td colspan="2" align="center"><img src ="images/<%=pvo.getP_image_l()%>"></td>
			    </tr>
			    <tr>
			        <td colspan="2"></td>
			    </tr>
			    <tr>
			        <td colspan="2" align="center">
			            <input type="button" value="ì¥ë°”êµ¬ë‹ˆì— ë‹´ê¸°" 
			            onclick="javascript:location.href='addProduct.jsp?p_num=<%=pvo.getP_num()%>'"/>
			            <input type="button" value="ì¥ë°”êµ¬ë‹ˆ ë³´ê¸°" 
			            onclick="javascript:location.href='cartList.jsp?'"/>
			        </td>
			    </tr>
			     
		    </tbody>   
		</table>
</body>
</html>
```

<br/>

ì—¬ê¸°ê¹Œì§€ ì§„í–‰ì´ ë¬ë‹¤ë©´ ì¤‘ê°„ì ê²€ì„ í•´ë³´ì.

<br/>

![](C:\Users\ì´í•œì˜\Desktop\blog\2021-10-01_ì¥ë°”êµ¬ë‹ˆ\img6.JPG)

<br/>

![](C:\Users\ì´í•œì˜\Desktop\blog\2021-10-01_ì¥ë°”êµ¬ë‹ˆ\img5.JPG)

<br/>

ê°€ê²©ë“¤ì´ ìƒë‹¹íˆ ì €ë ´í•˜ê³  í˜ì´ì§€ê°€ ì˜ ë‚˜ì˜¤ëŠ” ê±¸ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.

<br/>

ìƒì„¸ë³´ê¸° í™”ë©´ì— ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°ì™€ ì¥ë°”êµ¬ë‹ˆ ë³´ê¸°ë¥¼ êµ¬í˜„í•´ë³´ì.

<br/>

**cartList.jsp**

```jsp
<%@page import="mybatis.vo.ProductVO"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link href="css/style.css" rel="stylesheet">
</head>
<body>
	<jsp:include page="menu.jsp"/>
	<table width="600" border="1" align="center" 
        style="border-collapse:collapse;font-size:8pt" cellspacing="0" 
               cellpadding="4">
               <tr>
                   <td colspan="6">:: ì¥ë°”êµ¬ë‹ˆ ë‚´ìš©</td>
               </tr>
               <tr bgcolor="#dedede">
                   <th>ì œí’ˆë²ˆí˜¸</th>
                   <th width="25%">ì œí’ˆëª…</th>
                   <th>ë‹¨ê°€</th>
                   <th>ìˆ˜ëŸ‰</th>
                   <th>ê¸ˆì•¡</th>
                   <th>ì‚­ì œ</th>
               </tr>
	<jsp:useBean id="cart" class="shop.bean.Cart" scope="session"/>
	<%
		int total =0; //ì´ ê²°ì œê¸ˆì•¡
		
		ProductVO[] ar = cart.getList();
		
		if(ar != null){
			for(ProductVO p : ar){
	%>
            <tr align="center">
                <td><%=p.getP_num() %></td>
                <td><%=p.getP_name() %></td>
                <td>
                    ì •ê°€:<%=p.getP_price()%>ì›<br>
                    <font color="red">
                        ì„¸ì¼ê°€ê²©:<%=p.getP_saleprice()%>ì›
                    </font>
                </td>
                <td>
                    <!-- ìˆ˜ëŸ‰ ì¡°ì • í¼ -->
                    <form action="changeCount.jsp" method="post">
                    	<input type="hidden" name="p_num" 
                    		value="<%=p.getP_num()%>">
                    	<input type="number" name="count" size="2"
                    		value="<%=p.getQuant()%>"/>
                    	<input type="submit" value="ìˆ˜ì •"/>
                    </form>
                    <!------------------>
                </td>
                <td><%=p.getTotalPrice()%>ì›</td>
                <td>
                    <input type="button" value="ì‚­ì œ" 
                    style="border:1 solid black;cursor:pointer" 
				onclick="javascript:location.href='delProduct.jsp?p_num=<%=p.getP_num()%>'">
                </td>
            </tr>
<%
				total += p.getTotalPrice();
			}//forë¬¸ì˜ ë
		}else{
%>
            <tr align="center">
                <td colspan="6">
                    <b>ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì—ˆìŠµë‹ˆë‹¤.</b>
                </td>
            </tr>
<%
		} //ifë¬¸ì˜ ë
 %>
            <tr>
                <td colspan="5" align="right">ì´ ê²°ì¬ì•¡ : <%=total %>ì›</td>
                <td></td>
            </tr>
        </table>
</body>
</html>
```



<br/>

ìŠ¤í¬ë¦½íŠ¸ë¦¿(<%%>)ì„ ì—´ì–´ì„œ ì‚¬ìš©ìê°€ ì¥ë°”êµ¬ë‹ˆì— ë‹´ì€ ì œí’ˆì´ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ê±°ì¹˜ê³ 

<br/>

ìˆë‹¤ë©´ ì¥ë°”êµ¬ë‹ˆ ëª©ë¡ì„ ì—†ë‹¤ë©´ ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì—ˆë‹¤ëŠ” ë¬¸êµ¬ë¥¼ í†µí•´ í•œí˜ì´ì§€ë¡œ êµ¬ë¶„ì„ ë‚˜ëˆ´ë‹¤.

<br/>

cartListí˜ì´ì§€ì—ì„œ ìˆ˜ëŸ‰ ì¡°ì ˆê³¼ ì œí’ˆì‚­ì œ ê¸°ëŠ¥ì„ í˜ì´ì§€ë³„ë¡œ ë‚˜ëˆ„ì–´ì„œ êµ¬í˜„ì„ í•´ë´¤ë‹¤.

<br/>

**changeCount**(ìˆ˜ëŸ‰ì¡°ì ˆ)

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
 <jsp:useBean id="sb" class="shop.bean.ShopBean" scope="session"/>
 <jsp:useBean id="cart" class="shop.bean.Cart" scope="session"/>

<%
	String pnum = request.getParameter("p_num");
	String count = request.getParameter("count");
	int q = Integer.parseInt(count);
	System.out.println(q);
	System.out.println(pnum);
	cart.changeCount(pnum, q);
	
	response.sendRedirect("product_cintent.jsp?prod_num="+pnum);
%> 
```

<br/>

**delProduct**

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
 <jsp:useBean id="sb" class="shop.bean.ShopBean" scope="session"/>
 <jsp:useBean id="cart" class="shop.bean.Cart" scope="session"/>

<%
	String pnum = request.getParameter("p_num");
	cart.delProduct(pnum);
	response.sendRedirect("product_cintent.jsp?prod_num="+pnum);
%> 
```

<br/>

ì´ë ‡ê²Œí•´ì„œ í”íˆ ì›¹ì‚¬ì´íŠ¸ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” ì¥ë°”êµ¬ë‹ˆ ì‹œìŠ¤í…œì„ êµ¬í˜„í•´ ë³´ì•˜ë‹¤.

<br/>

í•™ì›ì—ì„œ ê°•ì‚¬ë‹˜ê³¼ í•¨ê»˜ ì‘ì—…ì„ í–ˆì§€ë§Œ ê°™ì´í•˜ë©´ì„œë„ ì—¬ëŸ¬ê°€ì§€ í´ë˜ìŠ¤ì™€ jspí˜ì´ì§€ê°€ ë§ì•„ì§€ë‹ˆ í˜¼ë™ì´ ì—„ì²­ì™”ë‹¤...ğŸ˜‚

<br/>

ì´ ì‘ì—…ì„ í•˜ë©´ì„œ ì¤‘ìš”í•˜ë‹¤ê³  ëŠë‚€ ê±´ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë°ì´í„°ë¥¼ ë‹¤ë¥¸í˜ì´ì§€ë¡œ ì´ë™ ì‹œ ì—ë„ ì €ì¥ í•  ìˆ˜ ìˆê²Œí•˜ëŠ” ë°©ë²•ê³¼ ê° í´ë˜ìŠ¤ë§ˆë‹¤ í•˜ëŠ” ì—­í• ë¦¬ ë‹¬ëë‹¤.

<br/>

**shop.bean**íŒ¨í‚¤ì§€ ì•ˆì— ìˆëŠ” Cart í´ë˜ìŠ¤ì™€ ShopBean í´ë˜ìŠ¤ì˜ ì‚¬ìš©í•  ê¸°ëŠ¥ë“¤ì„ ë¶„ì„í•˜ê³  ë³€ìˆ˜ë“¤ì„ ì •ì˜í•˜ê³  ì¹´íŠ¸í´ë˜ìŠ¤ê°€ ê°€ì ¸ì•¼í•  ê¸°ëŠ¥ì´ ë¬´ì—‡ì¸ì§€ ShopBeaní´ë˜ìŠ¤ê°€ í•´ì•¼í•  ê¸°ëŠ¥ì€ ë¬´ì—‡ì¸ì§€ ì •ì˜ë¥¼ í•˜ëŠ”ê²Œ ìœ ìš©í•˜ë‹¤ê³  ìƒê°í•œë‹¤.

<br/>

ë˜ í•œê°€ì§€ ì¤‘ìš”í•œ ì ì€ ì•¡ì…˜íƒœê·¸ì¸ useBeanê³¼ setPropertyë¥¼ í™œìš©í•˜ì—¬ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë°ì´í„°ë¥¼ ë‹¤ë¥¸í˜ì´ì§€ì—ì„œë„ ê³µìœ ë¥¼ í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤. ì´ íƒœê·¸ë“¤ì€ í›—ë‚  ìœ ìš©í•˜ê²Œ í™œìš© í•  ìˆ˜ ìˆë‹¤ëŠ” ìƒê°ì´ ë“ ë‹¤. ê¼­ ê¸°ì–µí•´ ë‘ìğŸ˜‹

